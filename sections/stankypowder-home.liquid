{% comment %}
StankyFlowers – Home (MVP) Section
Hero + Value Props + Social Proof + Product CTA + Newsletter + FAQ
Brand colors: #9B5DE5 (purple), #39FF14 (green)
Font: Bangers (optional load in theme.liquid)
{% endcomment %}

<section class="sf-home">
<style>
  /* ===== StankyFlowers Mobile-First ===== */
  .sf-home{
    --sf-purple:#9B5DE5; --sf-green:#39FF14; --sf-dark:#101010; --sf-light:#f7f7f7;
    --pad: clamp(14px, 3.5vw, 22px);
    --radius: 16px;
  }
  .sf-wrap{ max-width:1200px; margin:0 auto; padding:var(--pad); }

  /* Typography tuned for phones first */
  .sf-title{ font-size: clamp(28px, 9vw, 40px); line-height:1.02; margin:6px 0 8px; letter-spacing:-0.02em; }
  .sf-title .accent{ color:var(--sf-green); text-shadow:0 1px 0 rgba(0,0,0,.08);}
  .sf-sub{ font-size: clamp(15px, 3.8vw, 17px); color:#333; }

  /* HERO: 1 column on mobile (image stacks under copy) */
  .sf-hero{ display:grid; grid-template-columns:1fr; gap:14px; align-items:center; }
  .sf-hero-media img{ width:100%; height:auto; border-radius:14px; box-shadow:0 10px 24px rgba(0,0,0,.12); }

  /* Badge + CTAs */
  .sf-badge{ display:inline-flex; gap:8px; align-items:center; background:var(--sf-dark); color:#fff;
    padding:7px 12px; border-radius:999px; font-weight:700; font-size:13px; }
  .sf-cta{ display:flex; gap:10px; margin-top:12px; flex-wrap:wrap; }
  .sf-btn{ appearance:none; border:none; padding:14px 18px; border-radius:14px; font-weight:800; cursor:pointer;
    min-height:48px; line-height:1; }
  .sf-btn--primary{ background:var(--sf-green); color:#081208; box-shadow:0 8px 18px rgba(57,255,20,.22); }
  .sf-btn--ghost{ background:transparent; color:#111; border:2px solid #111; }

  /* KPIs: horizontal scroll with snap on mobile */
  .sf-kpis{ display:flex; gap:10px; overflow-x:auto; padding-bottom:2px; scroll-snap-type:x mandatory; }
  .sf-kpi{ min-width:220px; background:var(--sf-light); padding:12px; border-radius:14px; display:flex; gap:10px; align-items:center; scroll-snap-align:start; }
  .sf-kpi .dot{ width:10px; height:10px; background:var(--sf-green); border-radius:999px; }

  /* Value cards: single column + scroll snap */
  .sf-values{ display:flex; flex-direction:column; gap:12px; margin-top:20px; }
  .sf-card{ background:#fff; border:1px solid #eee; border-radius:14px; padding:16px; }

  /* Social proof block */
  .sf-social{ margin-top:22px; background:#111; color:#fff; border-radius:14px; padding:16px; display:grid; gap:10px; }
  .sf-stars{ color:#FFD54A; letter-spacing:2px; font-size:16px; }

  /* Product panel: 1 column on mobile */
  .sf-product{ margin-top:22px; display:grid; grid-template-columns:1fr; gap:12px; align-items:start; }
  .sf-product .pnl{ background:var(--sf-light); padding:16px; border-radius:14px; }

  /* Newsletter */
  .sf-news{ margin-top:22px; background:linear-gradient(135deg,var(--sf-purple),var(--sf-green));
    border-radius:14px; padding:16px; color:#081208; }
  .sf-news form{ display:grid; grid-template-columns:1fr auto; gap:10px; }
  .sf-news input{ padding:14px 12px; border-radius:12px; border:none; min-height:48px; }
  .sf-news button{ padding:14px 18px; border:none; border-radius:12px; font-weight:800; min-height:48px; background:#081208; color:#fff; }
  .sf-legal{ margin-top:8px; font-size:12px; color:#233; }

  /* FAQ */
  .sf-faq{ margin-top:22px; }
  .sf-faq details{ border:1px solid #e8e8e8; border-radius:14px; padding:12px 14px; margin-bottom:10px; background:#fff; }
  .sf-faq summary{ cursor:pointer; font-weight:700; }

  /* ===== Desktop Enhancements (≥960px) ===== */
  @media (min-width:960px){
    .sf-title{ font-size: clamp(40px, 5.2vw, 64px); }
    .sf-hero{ grid-template-columns: 1.2fr 1fr; gap:28px; }
    .sf-values{ display:grid; grid-template-columns:repeat(3,1fr); gap:18px; }
    .sf-social{ padding:22px; grid-template-columns:1.2fr 1fr 1fr; align-items:center; }
    .sf-product{ grid-template-columns:1fr 1fr; gap:18px; }
  }
  /* Motion safety */
  @media (prefers-reduced-motion: reduce){
    *{ animation-duration:.001ms !important; animation-iteration-count:1 !important; transition-duration:.001ms !important; scroll-behavior:auto !important; }
  }
</style>

  <div class="sf-wrap">
    <!-- HERO -->
    <div class="sf-hero">
      <div>
        {% if section.settings.badge != blank %}
          <div class="sf-badge">✅ {{ section.settings.badge }}</div>
        {% endif %}
        <h1 class="sf-title">
          {{ section.settings.title | escape }}
          <span class="accent">{{ section.settings.title_accent | escape }}</span>
        </h1>
        <p class="sf-sub">{{ section.settings.subtitle }}</p>

        <div class="sf-cta">
          {% if section.settings.primary_product != blank %}
            <a class="sf-btn sf-btn--primary" href="{{ section.settings.primary_product.url }}">
              {{ section.settings.primary_label }}
            </a>
          {% endif %}
          {% if section.settings.secondary_link != blank %}
            <a class="sf-btn sf-btn--ghost" href="{{ section.settings.secondary_link }}">
              {{ section.settings.secondary_label }}
            </a>
          {% endif %}
        </div>

        <div class="sf-kpis">
          {% for block in section.blocks %}
            {% if block.type == 'kpi' %}
              <div class="sf-kpi">
                <div class="dot"></div>
                <div>
                  <strong>{{ block.settings.kpi_title }}</strong><br>
                  <small>{{ block.settings.kpi_sub }}</small>
                </div>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>

      <div class="sf-hero-media">
        {% if section.settings.hero_image != blank %}
          <img src="{{ section.settings.hero_image | image_url: width: 1280 }}" alt="Hero">
        {% endif %}
      </div>
    </div>

    <!-- VALUE CARDS -->
    <div class="sf-values">
      {% for block in section.blocks %}
        {% if block.type == 'value' %}
          <div class="sf-card">
            <h3>{{ block.settings.value_title }}</h3>
            <p>{{ block.settings.value_body }}</p>
          </div>
        {% endif %}
      {% endfor %}
    </div>

    <!-- SOCIAL PROOF -->
    <div class="sf-social">
      <div>
        <div class="sf-stars">★★★★★</div>
        <strong>{{ section.settings.social_headline }}</strong>
        <div><small>{{ section.settings.social_sub }}</small></div>
      </div>
      {% if section.settings.review_1 != blank %}
        <div>“{{ section.settings.review_1 }}”</div>
      {% endif %}
      {% if section.settings.review_2 != blank %}
        <div>“{{ section.settings.review_2 }}”</div>
      {% endif %}
    </div>

    <!-- PRODUCT PANEL -->
    <div class="sf-product">
      <div class="pnl">
        <h3>{{ section.settings.product_title }}</h3>
        <p>{{ section.settings.product_blurb }}</p>
        {% if section.settings.primary_product != blank %}
          {% assign p = section.settings.primary_product %}
          <a class="sf-btn sf-btn--primary" href="{{ p.url }}">Buy {{ p.title }}</a>
          <div class="sf-note">Active SKUs: Small 90 g ($11.99), Large 200 g ($24.99)</div>
          <div class="sf-note">Formulated in USA • Safe on Glass & Accessories • Rinses Clean</div>
        {% endif %}
      </div>
      <div class="pnl">
        {% if section.settings.product_image != blank %}
          <img src="{{ section.settings.product_image | image_url: width: 1200 }}" alt="StankyPowder" style="width:100%; border-radius:14px;">
        {% endif %}
      </div>
    </div>

    <!-- NEWSLETTER -->
    <div class="sf-news">
      <h3>{{ section.settings.news_title }}</h3>
      <p>{{ section.settings.news_sub }}</p>
      {%- form 'customer', id: 'sf-newsletter' -%}
        <input type="hidden" name="contact[tags]" value="newsletter">
        <input type="email" name="contact[email]" required placeholder="Enter your email">
        <button type="submit">Join</button>
      {%- endform -%}
      <div class="sf-legal">Nothing for sale • 21+ (FL MMJ only) • Educational/Review content • No consumption shown</div>
    </div>

    <!-- FAQ -->
    <div class="sf-faq">
      <h3>FAQ</h3>
      {% for block in section.blocks %}
        {% if block.type == 'faq' %}
          <details>
            <summary>{{ block.settings.q }}</summary>
            <div>{{ block.settings.a }}</div>
          </details>
        {% endif %}
      {% endfor %}
    </div>
  </div>

  {% schema %}
  {
    "name": "StankyFlowers: Home (MVP)",
    "settings": [
      { "type":"text", "id":"badge", "label":"Hero badge", "default":"Premium Glass & Water Pipe Cleaner" },
      { "type":"text", "id":"title", "label":"Hero title (left)", "default":"Meet " },
      { "type":"text", "id":"title_accent", "label":"Hero title accent (green)", "default":"StankyPowder" },
      { "type":"richtext", "id":"subtitle", "label":"Hero subtext", "default":"<p>Faster cleans. Less scrubbing. Rinses clean. Designed for glass & accessories.</p>" },
      { "type":"image_picker", "id":"hero_image", "label":"Hero image" },
      { "type":"product", "id":"primary_product", "label":"Primary product" },
      { "type":"text", "id":"primary_label", "label":"Primary button label", "default":"Shop StankyPowder" },
      { "type":"url", "id":"secondary_link", "label":"Secondary link" },
      { "type":"text", "id":"secondary_label", "label":"Secondary button label", "default":"How it works" },

      { "type":"text", "id":"social_headline", "label":"Social proof headline", "default":"4.9/5 from early testers" },
      { "type":"text", "id":"social_sub", "label":"Social proof sub", "default":"Real results from real glass owners" },
      { "type":"text", "id":"review_1", "label":"Review #1", "default":"Cleaned my rig in minutes. Smells neutral and rinses fast." },
      { "type":"text", "id":"review_2", "label":"Review #2", "default":"Way easier than salt + iso. Bought the Large size immediately." },

      { "type":"text", "id":"product_title", "label":"Product panel title", "default":"StankyPowder" },
      { "type":"richtext", "id":"product_blurb", "label":"Product blurb", "default":"<p>Hero ingredients: Sodium Coco Sulfate (foam lift), Citric Acid (mineral dissolve), Activated Charcoal (odor neutralizing). Includes scooper + funnel.</p>" },
      { "type":"image_picker", "id":"product_image", "label":"Product image" },

      { "type":"text", "id":"news_title", "label":"Newsletter title", "default":"Get early drops & cleaning tips" },
      { "type":"text", "id":"news_sub", "label":"Newsletter sub", "default":"Exclusive deals, how-to videos, and behind-the-scenes lab notes." }
    ],
    "blocks": [
      {
        "type":"kpi",
        "name":"Hero KPI",
        "limit": 3,
        "settings": [
          { "type":"text", "id":"kpi_title", "label":"Title", "default":"20–30 cleans / Small" },
          { "type":"text", "id":"kpi_sub", "label":"Subtitle", "default":"Up to 50 cleans / Large" }
        ]
      },
      {
        "type":"value",
        "name":"Value Card",
        "limit": 6,
        "settings": [
          { "type":"text", "id":"value_title", "label":"Title", "default":"Rinses Clean" },
          { "type":"textarea", "id":"value_body", "label":"Body", "default":"No filmy residue. Leaves glass crystal clear." }
        ]
      },
      {
        "type":"faq",
        "name":"FAQ item",
        "limit": 8,
        "settings": [
          { "type":"text", "id":"q", "label":"Question", "default":"Is it safe for glass?" },
          { "type":"textarea", "id":"a", "label":"Answer", "default":"Yes — formulated for glass & accessories. Avoid prolonged contact with natural stone or unfinished metals." }
        ]
      }
    ],
    "presets": [{ "name":"StankyFlowers: Home (MVP)" }]
  }
  {% endschema %}
</section>