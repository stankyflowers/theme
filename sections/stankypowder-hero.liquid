{{ 'section-stankypowder-hero.css' | asset_url | stylesheet_tag }}

<section class="stankypowder-hero stanky-section">
  <div class="page-width stankypowder-hero__inner">
    <div class="stankypowder-hero__content">
      {% if section.settings.badge != blank %}
        <div class="stankypowder-hero__badge stanky-badge">
          {{ section.settings.badge }}
        </div>
      {% endif %}

      {% if section.settings.heading != blank %}
        <h1 class="stankypowder-hero__heading stanky-section-title">
          {{ section.settings.heading }}
        </h1>
      {% endif %}

      {% if section.settings.subheading != blank %}
        <p class="stankypowder-hero__subheading">
          {{ section.settings.subheading }}
        </p>
      {% endif %}

      {% if section.settings.bullets != blank %}
        <ul class="stankypowder-hero__list">
          {% for line in section.settings.bullets | split: '\n' %}
            {% if line != blank %}
              <li>{{ line }}</li>
            {% endif %}
          {% endfor %}
        </ul>
      {% endif %}

      <div class="stankypowder-hero__ctas">
        {% if section.settings.primary_label != blank and section.settings.primary_link != blank %}
          <a href="{{ section.settings.primary_link }}" class="button button--primary stanky-btn-primary">
            {{ section.settings.primary_label }}
          </a>
        {% endif %}

        {% if section.settings.secondary_label != blank and section.settings.secondary_link != blank %}
          <a href="{{ section.settings.secondary_link }}" class="button stanky-btn-secondary">
            {{ section.settings.secondary_label }}
          </a>
        {% endif %}
      </div>

      {% if section.settings.trust_line != blank %}
        <div class="stankypowder-hero__trust">
          {{ section.settings.trust_line }}
        </div>
      {% endif %}
    </div>

    <div class="stankypowder-hero__media-wrapper stanky-card">
      {% if section.settings.media_type == 'image' and section.settings.image != blank %}
        {{ section.settings.image | image_url: width: 900 | image_tag:
          loading: 'lazy',
          class: 'stankypowder-hero__image',
          alt: section.settings.image.alt | escape
        }}
      {% elsif section.settings.media_type == 'video' and section.settings.video != blank %}
        <div class="stankypowder-hero__video">
          {{ section.settings.video | video_tag: autoplay: true, loop: true, muted: true, controls: false }}
        </div>
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "StankyPowder Hero",
  "tag": "section",
  "class": "section stankypowder-hero-section",
  "settings": [
    {
      "type": "text",
      "id": "badge",
      "label": "Badge text",
      "default": "Premium Glass & Water Pipe Cleaner"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Make every hit feel like the first hit."
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "StankyPowder breaks down resin, odor, and build-up fast—without harsh smells or harsh scrubbing."
    },
    {
      "type": "textarea",
      "id": "bullets",
      "label": "Bullet list (one per line)",
      "default": "✔ Up to 20–30 cleanings per bag\n✔ Safe on glass & accessories\n✔ Rinses clean with no film"
    },
    {
      "type": "text",
      "id": "primary_label",
      "label": "Primary button label",
      "default": "Shop StankyPowder"
    },
    {
      "type": "url",
      "id": "primary_link",
      "label": "Primary button link"
    },
    {
      "type": "text",
      "id": "secondary_label",
      "label": "Secondary button label",
      "default": "How it works"
    },
    {
      "type": "url",
      "id": "secondary_link",
      "label": "Secondary button link"
    },
    {
      "type": "text",
      "id": "trust_line",
      "label": "Trust strip text",
      "default": "Formulated in the USA • Scooper + Funnel Included • 21+ Only"
    },
    {
      "type": "select",
      "id": "media_type",
      "label": "Media type",
      "default": "image",
      "options": [
        { "value": "image", "label": "Image" },
        { "value": "video", "label": "Video" }
      ]
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Hero image"
    },
    {
      "type": "video",
      "id": "video",
      "label": "Hero video"
    }
  ],
  "presets": [
    {
      "name": "StankyPowder Hero",
      "category": "StankyFlowers"
    }
  ]
}
{% endschema %}
